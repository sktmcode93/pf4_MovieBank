(this.webpackJsonppf4_movie_bank=this.webpackJsonppf4_movie_bank||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var s=n(1),i=n.n(s),c=n(5),a=n.n(c),r=(n(14),n(2)),l=n.n(r),o=n(3),j=n(6),u=n(7),d=n(9),m=n(8),p=(n(16),n(17),n(0)),v=function(){return Object(p.jsx)("div",{className:"loading",children:Object(p.jsx)("h1",{children:"\uc790\ub8cc\ub97c \ubd88\ub7ec\uc624\uace0 \uc788\uc2b5\ub2c8\ub2e4..."})})},b=(n(19),function(e){return Object(p.jsx)("div",{className:"mb-header",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("h1",{className:"mb-header-title",children:"MovieBank"}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{onClick:e.selectList,children:"\ucd5c\uc2e0\uc21c"}),Object(p.jsx)("li",{onClick:e.selectList,children:"\ud3c9\uc810\uc21c"}),Object(p.jsx)("li",{onClick:e.selectList,children:"\ub2e4\uc6b4\ub85c\ub4dc\uc21c"})]})]})})}),h=function(e){return e.map((function(e,t){return Object(p.jsx)("li",{children:e},t)}))},x=function(e){return Object(p.jsxs)("ul",{children:[" Genres : ",h(e.genres)]})},f=function(e){var t=e;return new Array(10).fill(1).map((function(e,n){return Object(p.jsx)("li",{children:e*t++},n)}))},O=function(e){return Object(p.jsx)("ul",{className:"pages",children:f(e.page)})},g=function(e,t){return e.map((function(e){return y(e,t)}))},y=function(e,t){return Object(p.jsxs)("div",{className:"mb-movie",children:[Object(p.jsxs)("div",{className:"mb-movie-poster",children:[Object(p.jsx)("img",{src:e.medium_cover_image,alt:e.title,onClick:t}),Object(p.jsx)("div",{className:"mb-movie-id",children:e.id})]}),Object(p.jsxs)("div",{className:"mb-movie-info",children:[Object(p.jsx)("h2",{children:e.title_long}),Object(p.jsxs)("span",{children:["Rating : ",e.rating]}),Object(p.jsx)("p",{children:e.synopsis}),Object(p.jsx)(x,{genres:e.genres})]})]},e.id)},N=function(e){return Object(p.jsxs)("div",{className:"moviebox",children:[Object(p.jsx)(b,{selectList:e.selectList}),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(O,{pages:e.pages,page:e.page}),Object(p.jsx)("div",{className:"movie-main",children:g(e.movieList,e.selectMovie)}),Object(p.jsx)(O,{pages:e.pages,page:e.page})]})]})},_=function(){document.querySelector(".movie-detail").style.display="none"},k=function(e){var t=e.display;return Object(p.jsx)("div",{className:"movie-detail",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("input",{type:"button",className:"movie-detail-cancel",value:"x",onClick:_}),Object(p.jsxs)("div",{className:"movie-detail-box",children:[Object(p.jsxs)("figure",{className:"movie-detail-poster",children:[Object(p.jsx)("img",{src:t.medium_cover_image,alt:t.title}),Object(p.jsx)("figcaption",{className:"md-title",children:t.title_long})]}),Object(p.jsxs)("div",{className:"movie-detail-info",children:[Object(p.jsxs)("span",{className:"md-info-rating",children:["Rating : ",t.rating]}),Object(p.jsx)("p",{className:"md-info-description",children:t.description_full}),Object(p.jsx)(x,{genres:t.genres})]})]})]})})},L=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(j.a)(this,n);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={page:1},e.renderMovies=Object(o.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.callApi("https://yts.mx/api/v2/list_movies.json");case 2:n=t.sent,e.setState({movieList:n.movies}),e.setPage(n);case 5:case"end":return t.stop()}}),t)}))),e.setPage=function(t){var n=t.movie_count,s=t.limit,i=Math.ceil(n/s);e.setState({pages:i})},e.callApi=function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e.data}))},e.selectMovie=function(){var t=Object(o.a)(l.a.mark((function t(n){var s,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n.target.nextSibling.innerText,t.next=3,e.callApi("https://yts.mx/api/v2/movie_details.json?movie_id=".concat(s));case 3:i=t.sent,e.setState({display:i.movie}),document.querySelector(".movie-detail").style.display="block";case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.selectList=function(){var t=Object(o.a)(l.a.mark((function t(n){var s,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("\ucd5c\uc2e0\uc21c"!==(s=n.target.innerText)){t.next=7;break}return t.next=4,e.callApi("https://yts.mx/api/v2/list_movies.json?sort_by=year");case 4:i=t.sent,t.next=16;break;case 7:if("\ud3c9\uc810\uc21c"!==s){t.next=13;break}return t.next=10,e.callApi("https://yts.mx/api/v2/list_movies.json?sort_by=rating");case 10:i=t.sent,t.next=16;break;case 13:return t.next=15,e.callApi("https://yts.mx/api/v2/list_movies.json?sort_by=downlad_count");case 15:i=t.sent;case 16:e.setState({movieList:i.movies});case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.renderMovies()}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"App",children:[this.state.movieList?Object(p.jsx)(N,{movieList:this.state.movieList,selectMovie:this.selectMovie,selectList:this.selectList,page:this.state.page,pages:this.state.pages}):Object(p.jsx)(v,{}),this.state.display?Object(p.jsx)(k,{display:this.state.display}):""]})}}]),n}(s.Component),w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),s(e),i(e),c(e),a(e)}))};a.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(L,{})}),document.getElementById("root")),w()}},[[20,1,2]]]);
//# sourceMappingURL=main.c5e9c5dd.chunk.js.map